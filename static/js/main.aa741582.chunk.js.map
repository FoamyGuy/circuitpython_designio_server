{"version":3,"sources":["components/TopBar.js","components/ImagePanel.js","components/WebhooksDialog.js","components/NoUserWarningDialog.js","App.js","Polotno_Key.js","reportWebVitals.js","index.js"],"names":["TopBar","props","store","Group","align","Alignment","LEFT","icon","minimal","href","leftIcon","id","placeholder","onClick","clickSave","className","this","feedbackIntent","feedbackHidden","feedback","RIGHT","webhookFeedbackIntent","webhookFeedbackHidden","webhookFeedback","showAIOButton","showWebhookDialogClick","showMyDesigns","image_file","Date","getTime","target","style","fontSize","React","Component","PhotosPanel","observer","useState","images","setImages","loadImages","a","preloaded_images","image_objs","i","length","push","url","useEffect","height","display","flexDirection","onChange","e","marginBottom","getPreview","image","onSelect","pos","getImageSize","width","activePage","addElement","type","src","x","y","rowsNumber","isLoading","loadMore","WebhooksDialog","handleOpen","setState","isOpen","handleClose","console","log","dir","state","autoFocus","canEscapeKeyClose","canOutsideClickClose","enforceFocus","usePortal","imageWebhook","preview_webhook_url","signatureWebhook","signature_webhook_url","handleChangeSignatureWebhook","bind","handleChangeImageWebhook","event","value","onClose","title","Classes","DIALOG_BODY","DIALOG_FOOTER","DIALOG_FOOTER_ACTIONS","intent","Intent","SUCCESS","saveWebhooksClick","getDerivedStateFromProps","NoUserWarningDialog","App","refHandlers","toaster","ref","render","input_data","data","username","Fragment","position","Position","TOP","DANGER","webhookDialogOpen","handleWebhooksDialogClose","noUserWarningDialogOpen","handleNoUserWarningDialogClose","clickSaveAIO","codepyHidden","creating","showWebhookDialog","uuid","sections","defaultSection","margin","flex","downloadButtonEnabled","pageControlsEnabled","$","val","ajax","method","done","resp","setTimeout","error","responseJSON","undefined","hasOwnProperty","toDataURL","JSON","stringify","toJSON","savedDesignJson","window","location","fail","createStore","key","setSize","ajaxSetup","beforeSend","xhr","settings","test","crossDomain","setRequestHeader","getCookie","loadJSON","parse","design_json","pages","name","addPage","setScale","attr","DEFAULT_SECTIONS","CustomPhotos","Tab","Panel","splice","PhotosSection","on","_","isEqual","history","canUndo","forceUpdate","cookieValue","document","cookie","cookies","split","trim","substring","decodeURIComponent","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.aa741582.chunk.js","sourcesContent":["import React from 'react';\nimport {observer} from 'mobx-react-lite';\nimport {\n    Button,\n    Navbar,\n    Alignment,\n    AnchorButton,\n    Divider,\n    Dialog,\n    Classes,\n    InputGroup,\n} from '@blueprintjs/core';\nimport FaGithub from '@meronex/icons/fa/FaGithub';\nimport FaQuestion from '@meronex/icons/fa/FaQuestion';\nimport DownloadButton from 'polotno/toolbar/download-button';\n\nimport {downloadFile} from 'polotno/utils/download';\n\nclass TopBar extends React.Component {\n    constructor(props) {\n        super(props);\n\n        //const inputRef = React.useRef();\n        this.store = props.store;\n\n    }\n\n    render() {\n        return (\n            <Navbar>\n                <Navbar.Group align={Alignment.LEFT}>\n                    <AnchorButton\n                        icon=\"new-object\"\n                        minimal\n                        href={\"/create/design/\"}\n                    >\n                        New\n                    </AnchorButton>\n                    <InputGroup\n                        leftIcon={\"tag\"}\n                        id={\"name_input\"}\n                        placeholder={\"Design Name\"}\n\n                    >\n\n                    </InputGroup>\n\n\n                    <Button\n                        icon=\"floppy-disk\"\n                        minimal\n                        onClick={() => {\n                            //const json = store.toJSON();\n                            this.props.clickSave();\n                        }}\n                    >\n                        Save\n                    </Button>\n                    {/*<Button\n                        icon=\"floppy-disk\"\n                        minimal\n                        onClick={() => {\n                            //const json = store.toJSON();\n                            this.props.clickSaveAIO();\n                        }}\n                    >\n                        Adafruit.IO\n                    </Button>*/}\n                    <span\n                        className={\"feedback-tag bp3-tag bp3-intent-\" + this.props.feedbackIntent + (this.props.feedbackHidden ? \" hidden\" : \"\")}>{this.props.feedback}</span>\n\n\n                </Navbar.Group>\n\n                <Navbar.Group align={Alignment.RIGHT}>\n                    <span\n                        className={\"feedback-tag bp3-tag bp3-intent-\" + this.props.webhookFeedbackIntent + (this.props.webhookFeedbackHidden ? \" hidden\" : \"\")}>{this.props.webhookFeedback}</span>\n\n                    {/*<AnchorButton\n                        icon=\"code\"\n                        minimal\n                        href={\"/codepy/design/u/\" + this.props.uuid + \"/\"}\n                        className={this.props.codepyHidden ? \"hidden\": \"\"}\n                    >\n                        Download code.py\n                    </AnchorButton>*/}\n\n                    {this.props.showAIOButton &&\n                    <Button\n                        minimal\n                        icon={\"cloud-upload\"}\n                        onClick={this.props.showWebhookDialogClick}\n                    >\n                        Setup Adafruit.io Webhooks\n                    </Button>}\n\n                    {this.props.showMyDesigns &&\n                    <AnchorButton\n                        minimal\n                        href=\"/list/designs/\"\n                        icon={\"layout-grid\"}\n                    >\n                        My Designs\n                    </AnchorButton>\n                    }\n\n                    <AnchorButton\n                        icon=\"download\"\n                        minimal\n                        href={\"/media/content/\" + this.props.image_file + \"?t=\" + new Date().getTime()}\n                    >\n                        Download BMP\n                    </AnchorButton>\n\n\n                    <AnchorButton\n                        minimal\n                        href=\"/docs/\"\n                        target=\"_blank\"\n                        icon={<FaQuestion className=\"bp3-icon\" style={{fontSize: '20px'}}/>}\n                    >\n                        Help\n                    </AnchorButton>\n\n                    <Divider/>\n                </Navbar.Group>\n            </Navbar>\n        );\n    }\n}\n\nexport default TopBar;","import {observer} from 'mobx-react-lite';\nimport {InputGroup} from \"@blueprintjs/core\";\nimport {getImageSize} from \"polotno/utils/image\";\nimport {ImagesGrid} from \"polotno/side-panel/images-grid\";\nimport {SectionTab} from \"polotno/side-panel/tab-button\";\n\n// import our own icon\nimport MdPhotoLibrary from \"@meronex/icons/md/MdPhotoLibrary\";\n\n\nimport React from 'react'\n\nconst PhotosPanel = observer(({store}) => {\n    const [images, setImages] = React.useState([]);\n\n    async function loadImages() {\n        const preloaded_images = [\n            \"adabot\", \"billie\", \"blinka\", \"cappy\",\n            \"connie\", \"gus\", \"hans\", \"mho\", \"minerva\",\n            \"ruby\", \"sparky\"];\n\n        const image_objs = [];\n        for (let i = 0; i < preloaded_images.length; i++){\n            //console.log(preloaded_images[i]);\n            image_objs.push({url: `/static/img/adafruit_${preloaded_images[i]}_emoji.png`});\n        }\n        //console.log(image_objs);\n        setImages(image_objs);\n    }\n\n    React.useEffect(() => {\n        loadImages();\n    }, []);\n\n    return (\n        <div style={{height: '100%', display: 'flex', flexDirection: 'column'}}>\n            <InputGroup\n                leftIcon=\"search\"\n                placeholder=\"Search...\"\n                onChange={(e) => {\n                    loadImages();\n                }}\n                style={{\n                    marginBottom: '20px',\n                }}\n            />\n            <p>Demo images: </p>\n            {/* you can create yur own custom component here */}\n            {/* but we will use built-in grid component */}\n            <ImagesGrid\n                images={images}\n                getPreview={(image) => image.url}\n                onSelect={async (image, pos) => {\n                    const {width, height} = await getImageSize(image.url);\n                    store.activePage.addElement({\n                        type: 'image',\n                        src: image.url,\n                        width,\n                        height,\n                        x: pos?.x || 0,\n                        y: pos?.y || 0,\n                    });\n                }}\n                rowsNumber={2}\n                isLoading={!images.length}\n                loadMore={false}\n            />\n        </div>\n    );\n});\nexport default PhotosPanel","import React from 'react';\nimport {InputGroup, Button, Classes, Dialog, Intent} from \"@blueprintjs/core\";\nimport $ from \"jquery\";\n\nclass WebhooksDialog extends React.Component {\n    constructor(props) {\n        super(props);\n\n        console.log(\"props in constructor\");\n        console.dir(this.props);\n\n        this.state = {\n            isOpen: this.props.isOpen,\n            autoFocus: true,\n            canEscapeKeyClose: true,\n            canOutsideClickClose: true,\n            enforceFocus: true,\n            usePortal: true,\n            imageWebhook: this.props.preview_webhook_url,\n            signatureWebhook: this.props.signature_webhook_url\n        }\n        console.log(\"signature webhook in constructor:\");\n        console.log(this.state.signature_webhook_url)\n\n        this.handleChangeSignatureWebhook = this.handleChangeSignatureWebhook.bind(this);\n        this.handleChangeImageWebhook = this.handleChangeImageWebhook.bind(this);\n\n    }\n\n\n    static getDerivedStateFromProps = (props, state) => {\n         return {\n                isOpen: props.isOpen,\n            }\n\n        // console.log(\"updating state from props\");\n        // console.log(state.imageWebhook === \"\");\n        // if (state.imageWebhook === \"\") {\n        //     console.log(\"updating hooks too\");\n        //     return {\n        //         isOpen: props.isOpen,\n        //         imageWebhook: props.preview_webhook_url,\n        //         signatureWebhook: props.signature_webhook_url\n        //     };\n        // }else{\n        //     return {\n        //         isOpen: props.isOpen,\n        //     }\n        // }\n    }\n\n    handleChangeSignatureWebhook(event) {\n        this.setState({\n                signatureWebhook: event.target.value\n            }\n        )\n    };\n\n    handleChangeImageWebhook(event) {\n        console.log(\"setting image webhook\");\n        console.log(event.target.value);\n        this.setState({\n                imageWebhook: event.target.value\n            }\n        )\n    };\n\n    handleOpen = () => this.setState({isOpen: true});\n\n    handleClose = () => {\n        this.setState({\n            isOpen: false,\n        });\n        this.props.handleClose();\n    }\n\n    componentDidMount() {\n        // setTimeout(() => {\n        //     console.log(\"setting webhook inputs:\");\n        //     console.log(this.props.signature_webhook_url);\n        //     console.log(this.props.preview_webhook_url);\n        //     $(\"#preview_webhook_input\").val(this.props.preview_webhook_url);\n        //     $(\"#signature_webhook_input\").val(this.props.signature_webhook_url);\n        //\n        //     console.log(\"after set val \");\n        //     console.log($(\"#preview_webhook_input\").val());\n        //     setInterval(() => {\n        //         console.log($(\"#preview_webhook_input\").val());\n        //     }, 500);\n        // }, 0);\n\n    }\n\n    render() {\n        console.log(\"url : \" + this.state.imageWebhook);\n        // setTimeout(() => {\n        //     console.log(\"setting webhook inputs:\");\n        //     console.log(this.props.signature_webhook_url);\n        //     console.log(this.props.preview_webhook_url);\n        //     $(\"#preview_webhook_input\").val(this.props.preview_webhook_url);\n        //     $(\"#signature_webhook_input\").val(this.props.signature_webhook_url);\n        //\n        //     console.log(\"after set val \");\n        //     console.log($(\"#preview_webhook_input\").val());\n        //     setInterval(() => {\n        //         console.log($(\"#preview_webhook_input\").val());\n        //     }, 500);\n        //\n        // }, 300);\n        //\n        return (\n            <Dialog\n                className={\"\"}\n                icon=\"cloud-upload\"\n                onClose={this.handleClose}\n                title=\"Adafruit.io Webhook URLs\"\n                {...this.state}\n            >\n                <div className={Classes.DIALOG_BODY}>\n                    <p>\n                        Image Preview Feed\n                    </p>\n                    <InputGroup\n                        id={\"preview_webhook_input\"}\n                        value={this.state.imageWebhook}\n                        onChange={this.handleChangeImageWebhook}\n                    />\n                    <br/>\n                    <p>\n                        Image Signature Feed\n                    </p>\n                    <InputGroup\n                        id={\"signature_webhook_input\"}\n                        value={this.state.signatureWebhook}\n                        onChange={this.handleChangeSignatureWebhook}\n                    />\n                </div>\n                <div className={Classes.DIALOG_FOOTER}>\n                    <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n\n                        <Button onClick={this.handleClose}>Close</Button>\n\n                        <Button\n                            intent={Intent.SUCCESS}\n                            onClick={() => {\n                                this.handleClose();\n                                this.props.saveWebhooksClick();\n\n                            }}\n                        >\n                            Save\n                        </Button>\n                    </div>\n                </div>\n            </Dialog>\n        );\n    }\n}\n\nexport default WebhooksDialog;","import React from 'react';\nimport {InputGroup, Button, Classes, Dialog, Intent} from \"@blueprintjs/core\";\nimport $ from \"jquery\";\n\nclass NoUserWarningDialog extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isOpen: this.props.isOpen,\n            autoFocus: true,\n            canEscapeKeyClose: true,\n            canOutsideClickClose: true,\n            enforceFocus: true,\n            usePortal: true,\n        }\n\n\n    }\n\n\n    static getDerivedStateFromProps = (props, state) => {\n        console.log(\"updating state from props\");\n        return {isOpen: props.isOpen};\n    }\n\n    handleOpen = () => this.setState({isOpen: true});\n\n    handleClose = () => {\n        this.setState({\n            isOpen: false,\n        });\n        this.props.handleClose();\n    }\n\n    render() {\n\n        //\n        return (\n            <Dialog\n                className={\"\"}\n                icon=\"warning-sign\"\n                onClose={this.handleClose}\n                title=\"Guest User Warning\"\n                {...this.state}\n            >\n                <div className={Classes.DIALOG_BODY}>\n                    <p>\n                        You are currently working on this design as a guest user. Once the design is saved, anyone who gets the design URL will be\n                        able to see and modify the design.\n                    </p>\n                    <p>\n                        To further secure your designs you can create user account. Designs created by signed in users\n                        will be inaccessible to anyone not signed in as the user who created it.\n                    </p>\n                    <p>\n                        Users can create and save unlimited different designs and easily access them.\n                    </p>\n                    <p>\n                        Would you like to <a href={\"/accounts/login/\"}>Login</a> or <a href={\"/accounts/register/\"}>Create an account</a>?\n                    </p>\n                </div>\n                <div className={Classes.DIALOG_FOOTER}>\n                    <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n\n                        <Button onClick={this.handleClose}>Close</Button>\n\n                    </div>\n                </div>\n            </Dialog>\n        );\n    }\n}\n\nexport default NoUserWarningDialog;","import './App.css';\nimport Toolbar from 'polotno/toolbar/toolbar';\nimport ZoomButtons from 'polotno/toolbar/zoom-buttons';\nimport Workspace from 'polotno/canvas/workspace';\nimport {createStore} from 'polotno/model/store';\nimport {polotno_key} from './Polotno_Key'\nimport Topbar from './components/TopBar';\n\nimport PhotosPanel from \"./components/ImagePanel\"\nimport WebhooksDialog from \"./components/WebhooksDialog\";\nimport NoUserWarningDialog from \"./components/NoUserWarningDialog\";\nimport {PhotosSection} from 'polotno/side-panel/side-panel';\nimport $ from 'jquery';\nimport {SidePanel, DEFAULT_SECTIONS} from 'polotno/side-panel/side-panel';\nimport {SectionTab} from \"polotno/side-panel/tab-button\";\nimport React from \"react\";\nimport MdPhotoLibrary from \"@meronex/icons/md/MdPhotoLibrary\";\nimport {Icon, Position, Toaster, Intent} from '@blueprintjs/core';\nimport _ from \"lodash\";\n\n\nclass App extends React.Component {\n    refHandlers = {\n        toaster: (ref) => this.toaster = ref,\n    };\n\n    constructor(props) {\n        super(props);\n        console.log('starting the app...');\n\n        this.store = createStore({\n            key: polotno_key, // you can create it here: https://polotno.dev/cabinet/\n        });\n        this.store.setSize(240, 240);\n\n        this.state = {\n            feedback: \"Design Saved\",\n            feedbackIntent: \"success\",\n            feedbackHidden: true,\n            webhookFeedback: \"Design Saved\",\n            webhookFeedbackIntent: \"success\",\n            webhookFeedbackHidden: true,\n            webhookDialogOpen: false,\n            savedDesignJson: {},\n            noUserWarningDialogOpen: false\n        }\n        this.creating = true;\n\n        //console.log(\"loading input data in constructor\")\n        this.input_data = $(\"#root\").data(\"props\");\n        //console.dir(this.input_data);\n\n    }\n\n    componentDidMount() {\n\n        //console.log(input_data.data.hello);\n        //console.dir(JSON.parse(input_data.data));\n        function csrfSafeMethod(method) {\n            // these HTTP methods do not require CSRF protection\n            return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));\n        }\n\n        //console.log(\"ajax setup\");\n        $.ajaxSetup({\n            beforeSend: (xhr, settings) => {\n                if (!csrfSafeMethod(settings.type) && !this.crossDomain) {\n                    // Only send the token to relative URLs i.e. locally.\n                    //console.log(\"ajax setup\");\n                    xhr.setRequestHeader(\"X-CSRFToken\", this.getCookie('csrftoken'));\n                }\n            }\n        });\n\n\n        //console.log(this.input_data);\n        if (this.input_data !== undefined &&\n            this.input_data.data.hasOwnProperty(\"design_json\")) {\n            this.creating = false;\n\n            //console.log(input_data.data.design_json);\n\n            console.log(this.store.activePage);\n\n            // load page from context\n            this.store.loadJSON(JSON.parse(this.input_data.data.design_json));\n            console.dir(this.store.pages);\n            console.log(this.store.activePage.id);\n            $(\"#name_input\").val(this.input_data.data.name);\n            this.setState({savedDesignJson: this.store.toJSON()});\n\n\n        } else {\n            this.creating = true;\n            // empty page if nothing to load\n            this.store.addPage();\n            this.setState({savedDesignJson: this.store.toJSON()});\n        }\n\n\n        console.log(`username: ${this.input_data.data.username}`);\n\n\n        if (this.input_data !== undefined &&\n            this.input_data.data.hasOwnProperty(\"username\") &&\n            this.input_data.data.username === \"\"\n        ) {\n            console.log(\"user was blank\")\n            this.setState({noUserWarningDialogOpen: true});\n        }\n\n\n        //this.store.setScale(3);\n        //console.log('zoom is', this.store.scale);\n\n\n        setTimeout(() => {\n            this.store.setScale(1.5);\n        }, 300);\n\n\n        setTimeout(function () {\n            $(\".credit span a\").attr(\"target\", \"_blank\");\n        }, 2000);\n\n        this.sections = DEFAULT_SECTIONS;\n        console.log(\"sections: \");\n        console.log(DEFAULT_SECTIONS);\n\n        // define the new custom section\n\n        const CustomPhotos = {\n            name: 'adafruit',\n            Tab: (props) => (\n                <SectionTab name=\"Adafruit\" {...props}>\n                    <MdPhotoLibrary/>\n                </SectionTab>\n            ),\n            Panel: PhotosPanel,\n        };\n        this.sections.splice(1, 0, CustomPhotos);\n\n        PhotosSection.Tab = (props) => (\n            <SectionTab name=\"Unsplash\" {...props}>\n                <Icon icon=\"media\"/>\n            </SectionTab>\n        );\n\n        $(window).on(\"beforeunload\", () => {\n            console.log(\"state in beforeunload\");\n            console.dir(this.state.savedDesignJson);\n            console.log(\"----\")\n            console.dir(this.store.toJSON());\n            console.log(\"json has changed ? \" + !_.isEqual(this.state.savedDesignJson, this.store.toJSON()));\n            console.log(\"history\");\n            console.log(this.store.history.canUndo);\n            if (!_.isEqual(this.state.savedDesignJson, this.store.toJSON())) {\n                return \"Are you sure to leave? There is unsaved worked.\";\n            }\n        });\n\n\n        //removeSection(sections, \"size\");\n        //addSection(sections, ResizePanel, 5);\n\n        this.forceUpdate();\n    }\n\n    render = () => {\n        console.log(\"input data inside render\");\n        console.log(this.input_data)\n        const username = this.input_data ? this.input_data.data.username : \"\";\n        // only show if username is not blank\n        const showMyDesigns = username !== \"\";\n        return (\n            <React.Fragment>\n                <Toaster\n                    position={Position.TOP}\n                    ref={this.refHandlers.toaster}\n                    intent={Intent.DANGER}\n                />\n                <WebhooksDialog\n                    isOpen={this.state.webhookDialogOpen}\n                    saveWebhooksClick={this.saveWebhooksClick}\n                    handleClose={this.handleWebhooksDialogClose}\n                    preview_webhook_url={this.input_data ? this.input_data.data.preview_webhook_url : \"\"}\n                    signature_webhook_url={this.input_data ? this.input_data.data.signature_webhook_url : \"\"}\n                />\n                <NoUserWarningDialog\n                    isOpen={this.state.noUserWarningDialogOpen}\n                    handleClose={this.handleNoUserWarningDialogClose}\n                />\n                <Topbar store={this.store}\n                        clickSave={this.clickSave}\n                        clickSaveAIO={this.clickSaveAIO}\n                        feedbackHidden={this.state.feedbackHidden}\n                        feedbackIntent={this.state.feedbackIntent}\n                        feedback={this.state.feedback}\n                        webhookFeedbackHidden={this.state.webhookFeedbackHidden}\n                        webhookFeedbackIntent={this.state.webhookFeedbackIntent}\n                        webhookFeedback={this.state.webhookFeedback}\n                        codepyHidden={this.creating}\n                        showMyDesigns={showMyDesigns}\n                        showWebhookDialogClick={this.showWebhookDialog}\n                        uuid={!this.creating ? this.input_data.data.uuid : \"\"}\n                        image_file={this.input_data ? this.input_data.data.image_file : \"\"}\n                        showAIOButton={!this.creating}\n                />\n                <div\n                    style={{\n                        display: 'flex',\n                        height: '92vh',\n                        width: '100vw',\n                    }}\n                >\n                    <div style={{width: '400px', height: '100%', display: 'flex'}}>\n                        <SidePanel store={this.store} sections={this.sections} defaultSection=\"adafruit\"/>\n                    </div>\n                    <div\n                        style={{\n                            display: 'flex',\n                            height: '100%',\n                            margin: 'auto',\n                            flex: 1,\n                            flexDirection: 'column',\n                            position: 'relative',\n                        }}\n                    >\n                        <Toolbar store={this.store} downloadButtonEnabled={false}/>\n                        <Workspace store={this.store} pageControlsEnabled={false}/>\n                        <ZoomButtons store={this.store}/>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n\n    getCookie(name) {\n        var cookieValue = null;\n        if (document.cookie && document.cookie != '') {\n            var cookies = document.cookie.split(';');\n            for (var i = 0; i < cookies.length; i++) {\n                var cookie = $.trim(cookies[i]);\n                // Does this cookie string begin with the name we want?\n                if (cookie.substring(0, name.length + 1) == (name + '=')) {\n                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                    break;\n                }\n            }\n        }\n        return cookieValue;\n    }\n\n    saveWebhooksClick = () => {\n        console.log(\"click save webhooks\");\n        console.log($(\"#preview_webhook_input\").val());\n        console.log($(\"#signature_webhook_input\").val());\n        $.ajax({\n            method: \"POST\",\n            url: \"/update/design/u/\" + this.input_data.data.uuid + \"/webhooks/\",\n            data: {\n                \"preview_webhook\": $(\"#preview_webhook_input\").val(),\n                \"signature_webhook\": $(\"#signature_webhook_input\").val()\n            }\n        }).done((resp) => {\n            this.input_data.data[\"preview_webhook_url\"] = $(\"#preview_webhook_input\").val();\n            this.input_data.data[\"signature_webhook_url\"] = $(\"#signature_webhook_input\").val();\n            console.log(resp);\n            this.setState({\n                webhookFeedbackHidden: false,\n                webhookFeedbackIntent: \"success\",\n                webhookFeedback: \"Webhooks saved successfully\"\n            });\n            setTimeout(() => {\n                this.setState({webhookFeedbackHidden: true});\n            }, 3000);\n\n        }).error((error) => {\n            this.setState({\n                webhookFeedbackHidden: false,\n                webhookFeedbackIntent: \"danger\",\n                webhookFeedback: error.responseJSON.error\n            });\n\n        });\n    }\n\n    handleWebhooksDialogClose = () => {\n        this.setState({\n            webhookDialogOpen: false\n        })\n    }\n\n    handleNoUserWarningDialogClose = () => {\n        this.setState({\n            noUserWarningDialogOpen: false\n        })\n    }\n\n    showWebhookDialog = () => {\n        console.log(\"showing webhook dialog\");\n        this.setState({webhookDialogOpen: true}, () => {\n            console.log(this.state.webhookDialogOpen);\n        });\n\n    }\n\n    clickSave = () => {\n        //console.log(props.hello);\n        //console.dir(store);\n        console.log(\"clicked save\");\n        //console.log(store.toJSON());\n        //console.log(store.toDataURL());\n\n        if ($(\"#name_input\").val() !== \"\") {\n            // create new design\n            if (this.input_data === undefined || !this.input_data.data.hasOwnProperty(\"id\")) {\n                //this.topBar.current.setState({\"hidden\": false, \"feedback\": \"Hello World\", \"feedbackIntent\": \"danger\"});\n                //this.setState({hidden: false})\n                $.ajax({\n                    method: \"POST\",\n                    url: \"/create_design/\",\n                    data: {\n                        \"image_base64\": this.store.toDataURL(),\n                        \"json\": JSON.stringify(this.store.toJSON()),\n                        \"name\": $(\"#name_input\").val()\n                    }\n                }).done((resp) => {\n\n                    this.setState({\n                        feedbackHidden: false,\n                        feedbackIntent: \"success\",\n                        feedback: \"Design created successfully\",\n                        savedDesignJson: this.store.toJSON()\n                    });\n                    setTimeout(() => {\n                        this.setState({feedbackHidden: true});\n                        window.location = resp['view_design_url']\n                    }, 3000);\n                    console.log(resp);\n                }).fail((error) => {\n                    this.setState({\n                        feedbackHidden: false,\n                        feedbackIntent: \"danger\",\n                        feedback: error.responseJSON.error\n                    });\n                });\n            } else {\n                // update existing design\n                $.ajax({\n                    method: \"POST\",\n                    url: \"/update/design/u/\" + this.input_data.data.uuid + \"/\",\n                    data: {\n                        \"image_base64\": this.store.toDataURL(),\n                        \"json\": JSON.stringify(this.store.toJSON()),\n                        \"name\": $(\"#name_input\").val()\n                    }\n                }).done((resp) => {\n                    this.setState({\n                        feedbackHidden: false,\n                        feedbackIntent: \"success\",\n                        feedback: \"Design saved successfully\",\n                        savedDesignJson: this.store.toJSON()\n                    });\n                    console.log(resp);\n                    setTimeout(() => {\n                        this.setState({feedbackHidden: true});\n                    }, 3000);\n                });\n            }\n        } else {\n            this.setState({\n                feedbackHidden: false,\n                feedbackIntent: \"danger\",\n                feedback: \"Design Name cannot be blank\"\n            });\n            setTimeout(() => {\n                this.setState({feedbackHidden: true});\n            }, 3000);\n\n        }\n\n    }\n\n    clickSaveAIO = () => {\n        //console.log(props.hello);\n        //console.dir(store);\n        console.log(\"clicked save\");\n        //console.log(store.toJSON());\n        //console.log(store.toDataURL());\n\n        // create new design\n        if (this.input_data === undefined || !this.input_data.data.hasOwnProperty(\"id\")) {\n\n        } else {\n            console.log(this.store.toDataURL());\n            // update existing design\n            $.ajax({\n                method: \"POST\",\n                url: \"/upload_aio/design/\" + this.input_data.data.id + \"/\",\n                data: {\n                    \"image_base64\": this.store.toDataURL(),\n                    \"json\": JSON.stringify(this.store.toJSON()),\n                    \"name\": $(\"#name_input\").val()\n                }\n            }).done((resp) => {\n                this.setState({\n                    feedbackHidden: false,\n                    feedbackIntent: \"success\",\n                    feedback: \"Design saved successfully\"\n                });\n                console.log(resp);\n                setTimeout(() => {\n                    this.setState({feedbackHidden: true});\n                }, 3000);\n            });\n        }\n    }\n}\n\nexport default App;\n\n\n","export const polotno_key = \"urccVCzsiJVAkwUNpR_y\";","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}